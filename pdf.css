:root { --bg:#ffffff; --fg:#000000; --muted:#333333; --card:#ffffff; --line:#d6d6d6; }
body { font-family: "Helvetica Neue", Arial, sans-serif; background:var(--bg); color:var(--fg); margin:14px; line-height:1.35; }
h1 { font-size:18px; margin:0 0 8px; }
.row { display:block; }
.card { background:var(--card); border:1px solid var(--line); border-radius:8px; padding:12px; }
.muted { color:var(--muted); font-size:12px; line-height:1.4; }
label { display:block; font-size:12px; color:var(--muted); margin:8px 0 4px; }
input, textarea, select, button {
  width:100%;
  box-sizing:border-box;
  border-radius:6px;
  border:1px solid var(--line);
  background:#ffffff;
  color:var(--fg);
  padding:8px 9px;
  font-size:12px;
}
textarea { min-height:140px; resize:vertical; white-space: pre-wrap; overflow-wrap: anywhere; }
#story_text { text-align:left; vertical-align: top; }
button { cursor:pointer; background:#f2f2f2; }
button:hover { background:#e9e9e9; }
.btnrow { display:flex; gap:6px; flex-wrap:wrap; }
.btnrow button { width:auto; padding:6px 10px; }
.inlineRow { display:flex; gap:6px; align-items:center; }
.inlineRow input { flex:1; }
.inlineRow button { width:auto; padding:6px 8px; }
.list { display:flex; flex-direction:column; gap:6px; margin-top:8px; }
.itembtn { text-align:left; }
.split { display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
.kpi { display:flex; gap:8px; flex-wrap:wrap; }
.pill { border:1px solid var(--line); border-radius:999px; padding:3px 8px; font-size:11px; color:var(--muted); }
.ok { color:#000000; }
.err { color:#000000; }
.hr { height:1px; background:var(--line); margin:8px 0; }
.tiny { font-size:11px; color:var(--muted); }
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
.pdf-page { break-before: page; page-break-before: always; }
.pdf-page:first-of-type { break-before: auto; page-break-before: auto; }
.pdf-page-break { break-before: page; page-break-before: always; page-break-inside: avoid; margin-top:0; padding-top:0; }
h2.pdf-page-break { break-before: page; page-break-before: always; page-break-after: avoid; }
.kpi, .btnrow, .inlineRow, .pill { break-inside: avoid; page-break-inside: avoid; }
.image-thumb {
  width:120px;
  height:auto;
  border-radius:6px;
  margin-top:6px;
  border:1px solid var(--line);
  display:none;
  cursor:zoom-in;
  background:#ffffff;
}
#imageLightbox {
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  padding:24px;
  background: rgba(4,7,12,.8);
  z-index:1000;
}
#imageLightbox img {
  max-width:min(92vw, 1200px);
  max-height:92vh;
  border-radius:12px;
  border:1px solid var(--line);
  box-shadow:0 20px 60px rgba(0,0,0,.5);
}
#imageLightbox button {
  position:absolute;
  top:16px;
  right:16px;
  width:auto;
  padding:8px 12px;
  border-radius:999px;
  background:#f2f2f2;
  border:1px solid var(--line);
}
